import { Head } from "$fresh/runtime.ts";
import { Handlers, PageProps } from "$fresh/server.ts";

/*
const cityscape = `
   ░                      ░░     ░░░░░░░         ▒▒                ░  ▒▒▒▒▒▒▒▒▒▒ ███ ░░░░░            ▒                         ░░░░ ██████████████   ▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓    ▒▒▒▒▒▒▒▒▒▒▒    ░       ▒        ▓▓  ░░░░░      ▒▒▒▒▒▒▒           ░
   ░                    ░░░░     ░▓▓▓▓▓▓▓▓▓      ▒▒       ▓      ░░░░ ▒▒▒▒▒▒▒▒▒▒ ███░░░░░░░░░         ▒                         ░░░░ ██████████████   ▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓█████ ▒▒▒▒▒▒▒▒▒▒▒   ░░░      ▒▒▒▒▒   ▓▓▓▓ ░░░░░      ▒███████  ███████ ░░▓▓▓▓▓
 ░░░   ▒▒▒▒▒▒▒▒▒▒▒▒▒▒  ░░░░░    ░░▓▓▓▓▓▓▓▓▓      ▒▒▒▒ ▓▓▓▓▓▓▓▓▓  ░░░░░▒▒▒▒▒▒▒▒▒▒ ███░░░░░░░░░░       ▒▒▒        ▒▒▒▒▒▒▒▒       ░░░░░░██████████████   ▓▓▓█████████████▓▓▓▓█████ ▒▒▒▒▒▒▒▒▒▒▒  ░░░░      ▒▒▒▒▒▒ ▓▓▓▓▓▓▓▓▓░░░     ▒███████  ███████ ░░▓▓▓▓▓
░░░░  ▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒ ░░█████████████▓▓▓▓▓▓▓   ▒▒▒▒▒▓▓▓█████████████░▒▒▒▒▒▒▒▒▒▒ ████████████░       ▒▒▒        ▒▒▒▒▒▒▒▒     ░░░░░░░░██████████████ ▓▓▓▓▓█████████████▓▓▓▓▓████▒▒▒▒▒▒▒▒▒▒▒▒  ░░░░░███████████████████████████  ▒███████  ███████ ░░▓▓▓▓▓▓
░░░░  ▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒░░█████████████▓▓▓▓▓▓▓  ▒▒▒▒▒▒▓▓▓█████████████░▒▒▒▒▒▒▒▒▒▒▒████████████░      ▒▒▒▒▒      ▒▒▒▒▒▒▒▒▒  ▓▓▓▓▓▓▓▓░░░██████████████ ▓▓▓▓▓█████████████▓▓▓▓▓████▒▒▒▒▒▒▓▓▓▓▓▓▓▓▓▓░░░███████████████████████████  ▒███████  ███████░░░▓▓▓▓▓▓
░░░░  ▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒░█████████████▓▓▓▓▓▓▓ ▒▒▒▒▒▒▒▓▓▓█████████████░▒▒▒▒▒▒▒▒▒▒▒████████████░      ▒▒▒▒▒      ▒▒▒▒▒▒▒▒▒▒▒▓▓▓▓▓▓▓▓░░░██████████████ ▓▓▓▓▓█████████████▓▓▓▓▓████▒▒▒▒▒▒▓▓▓▓▓▓▓▓▓▓▓░░███████████████████████████▒▒▒███████▒ ███████░░░▓▓▓▓▓▓
▓░░░  ▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒░█████████████▓▓▓▓▓▓▓ ▒▒▒▒▒▒█████████████████░▒▒▒▒▒▒▒▒▒▒▒████████████░░░    ▒▒▒██████████████████▒▓▓▓▓▓▓▓▓░░░██████████████ ▓▓▓▓▓████████████████▓▓████▒▒▒▒▒▒▓▓▓▓▓▓▓▓▓▓▓░░███████████████████████████▒▒▒███████▒ ███████░░░▓▓▓▓▓▓
▓░░░ ▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒░█████████████▓▓▓▓▓▓▓ ▒▒▒▒▒▒█████████████████░▒▒▒▒▒▓▓▓▓▒▒████████████▒▒░   ▒▒▒▒██████████████████▒▓▓▓▓▓▓▓▓░░░██████████████▓▓▓▓▓▓████████████████▓▓█████▒▒▒▒▒▓▓▓▓▓▓▓▓▓▓▓░░███████████████████████████▒▒████████▒ █████████░▓▓▓▓▓▓
▓░░░▒▒▒▒▒▒▒▒▒▒▓▓▓▓▓▓▓▓▓▓░█████████████▓▓▓▓▓▓▓ ▒▒▒▒▒▒█████████████▓░░░▒▒▒▒▒▒▓▓▓▓▒▒████████████▒▒░░  ▒▒▒▒██████████████████▒▓▓▓▓▓▓▓▓▓▓▓██████████████▓▓▓▓▓▓████████████████▓▓█████▒▒▒▒▓▓▓▓▓▓▓▓▓▓▓▓▓▓███████████████████████████▒▒████████▒▒█████████▓▓▓▓▓▓▓
▓▓░▒▒▒▒▒▒▒▒▒▒▒▓▓▓▓▓▓▓▓▓▓▓█████████████▓▓▓▓▓▓▓ ▒▒▒▒▒▒█████████████▓░██████▒▒▓▓▓▓▒▒████████████▒▒░▓▓▓▓▓▓▓██████████████████▒▓▓▓██████████████████████▓▓▓▓▓▓█████████████▓▓▓▓▓█████▒▒▒▒▓▓▓▓▓▓▓▓▓▓▓▓▓▓███████████████████████████▒▒████████▒▒█████████▓▓▓▓▓▓▓
▓▓▓▒▒▒▒▒▒▒▒▒▒▓▓▓▓▓▓▓▓▓▓▓▓█████████████▓▓▓▓▓▓▓ ▒▒▒▒▒▒▒▓▓▓█████████▓░██████▓▓▓▓▓▓▓▒████████████▒▒░▓▓▓▓▓▓▓██████████████████▓▓▓▓██████████████████████▓▓▓▓▓▓█████████████▓▓▓▓▓█████▒▒▒▒▓▓▓▓▓▓▓▓▓▓▓▓▓▓███████████████████████████▒▒████████▒▒█████████▓▓▓▓▓▓▓▓
▓▓▓▓▒▒███████████▓▓▓▓▓▓▓▓█████████████▓▓▓▓▓▓▓ ▒▒▒▒▒▒▒▓▓▓█████████▓░██████▓▓▓▓▓▓▓▓████████████▒▒░▓▓▓▓▓▓▓██████████████████▓▓▓▓██████████████████████▓▓▓▓▓▓█████████████▓▓▓▓▓█████▒▒▒▒▓▓▓▓▓▓▓▓▓▓▓▓▓▓███████████████████████████▒▒████████▒▒█████████▓▓▓▓▓▓▓▓
▓▓▓▓▒█████████████▓▓▓▓▓▓▓█████████████▓▓██████████████▓▓█████████▓░██████▓▓▓▓▓▓▓▓████████████▒▒░▓▓▓▓▓▓▓██████████████████▓▓▓▓██████████████████████▓▓▓▓▓▓█████████████▓▓▓▓▓█████▒▒███████████▓▓▓▓▓███████████████████████████▒▒████████▒▒█████████▓▓▓▓▓▓▓▓
▓▓▓▓███████████████▓▓▓▓▓▓█████████████▓▓██████████████▓▓█████████▓▓████████▓▓▓▓▓▓████████████▒▒▒▓▓▓▓▓▓▓██████████████████▓▓▓▓██████████████████████████▓▓█████████████▓▓▓▓▓█████▒▒████████████▓▓▓▓███████████████████████████▒▒████████▒▒█████████▓▓▓▓▓▓▓▓
▓▓▓█████████████████▓▓▓▓▓█████████████▓▓██████████████▓▓█████████▓▓████████▓▓▓▓▓▓████████████▒▒▒▓▓▓▓▓▓▓██████████████████▓▓▓▓██████████████████████████▓▓█████████████▓▓▓▓▓█████▒▒████████████▓▓█████████████████████████████▒▒████████▒▒█████████▓▓▓▓▓▓▓▓
▓▓███████████████████▓▓▓▓█████████████▓▓██████████████▓▓█████████▓▓████████▓▓▓▓▓▓████████████▒▒▒▓▓▓▓▓▓▓██████████████████▓▓▓▓██████████████████████████▓▓█████████████▓▓▓▓▓█████▒▒████████████▓▓███████████████████████████▒▒▒▒████████▒▒█████████▓▓▓▓▓▓▓▓
▓▓███████████████████▓▓███████████████▓▓██████████████▓▓█████████▓▓████████▓▓▓▓▓▓████████████▒▒▒▓▓▓▓▓▓▓██████████████████▓▓▓▓██████████████████████████▓▓█████████████▓▓▓▓▓█████▒▒████████████▓▓███████████████████████████▒▒▒▒████████▒▒█████████▓▓▓▓▓▓▓▓
▓▓███████████████████▓▓███████████████▓▓██████████████▓▓█████████▓▓████████▓▓▓▓▓▓████████████▒▒▓▓▓▓▓▓▓▓██████████████████▓▓▓▓██████████████████████████▓▓█████████████▓▓▓▓▓█████▒▒████████████▓▓███████████████████████████▒▒▒▒████████▒▒█████████▓▓▓▓▓▓▓▓
▓▓███████████████████▓▓███████████████▓▓██████████████▓▓█████████▓▓████████▓▓▓▓▓▓████████████▒▒▓▓▓▓▓▓██████████████████████▓▓██████████████████████████▓▓█████████████▓▓▓▓▓█████▒▒████████████▓▓███████████████████████████▒▒▒▒████████▒▒█████████▓▓▓▓▓▓▓▓
▓▓███████████████████▓▓███████████████▓▓██████████████▓▓█████████▓▓████████▓▓▓▓▓▓████████████▒▒▓▓▓▓▓▓██████████████████████▓▓██████████████████████████▓▓█████████████▓▓▓▓▓█████▒▒████████████▓▓███████████████████████████▒▒▒▒████████▒▒█████████▓▓▓▓▓▓▓▓
`;
*/

export const handler: Handlers = {
  async GET(req, ctx) {
    const origin = new URL(req.url).origin;
    //const get_streets_list = await fetch(`${origin}/streets?district=city-center`).then(res => res.json());
    /*
    const streets: preact.JSX.Element[] = [];
    get_streets_list.forEach((street: string) => {
      streets.push(<li>// <a href={`/x/city-center/${street}`}>{street.replaceAll("-", " ").toLocaleUpperCase()}</a></li>);
    })

    const streets_list = <ul>{streets}</ul>;
    */
    return ctx.render("test");
  }
}

export default function CityCenter({ data }: PageProps) {
  return (
    <>
      <Head>
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5, shrink-to-fit=no" />
        <title>CITY CENTER | FUTURIST CITY</title>
        <link rel="preload" href="/index.css" as="style"></link>
        <link rel="stylesheet" media="all" href="/index.css" type="text/css"></link>
      </Head>
      <body>
        <main>
          <h1 id="districts-h1"><a href="/x" class="enter-button">⟵ Back</a><br/>CITY CENTER</h1>
          {/*
          <div class="cityscape-frame">
            <pre class="cityscape">
              {cityscape}
            </pre>
          </div>
          */}
          <p>Welcome to the heart of it all. High end shops, restaurants, you name it. Everything is open 24/7 - no sleep for the wicked. Everyone who visits Futurist City stops by just to look.</p>
          {data}
        </main>
      </body>
    </>
  );
}
